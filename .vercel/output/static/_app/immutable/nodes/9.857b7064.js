import{s as N,a as v,e as y,t as j,B as k,z,h as _,d as P,c as C,b as T,f as F,i as x,j as p,k as O,A as Q,C as G,q as J,n as V,D as K,g as R}from"../chunks/scheduler.ccf898a6.js";import{S as U,i as W,a as b,c as q,t as h,g as L,b as B,d as w,m as A,e as E}from"../chunks/index.7272c3b3.js";import{e as H}from"../chunks/each.34974530.js";import{S as X}from"../chunks/settings_module.c7b7ec2c.js";import{d as Y,p as S,P as Z,a as ee}from"../chunks/PricingFAQ.20bed73a.js";function I(o,l,a){const n=o.slice();return n[4]=l[a],n}function te(o){let l,a;return l=new X({props:{title:"Subscription",editable:!1,fields:[{id:"plan",label:"Current Plan",initialValue:o[2]||""}],editButtonTitle:"Manage Subscripton",editLink:"/account/billing/manage"}}),{c(){B(l.$$.fragment)},l(n){w(l.$$.fragment,n)},m(n,c){A(l,n,c),a=!0},p:V,i(n){a||(h(l.$$.fragment,n),a=!0)},o(n){b(l.$$.fragment,n),a=!1},d(n){E(l,n)}}}function le(o){let l,a,n,c,d,f,r=H(S),i=[];for(let t=0;t<r.length;t+=1)i[t]=M(I(o,r,t));const g=t=>b(i[t],1,1,()=>{i[t]=null});n=new Z({});let u=o[0].hasEverHadSubscription&&D();return{c(){l=y("div");for(let t=0;t<i.length;t+=1)i[t].c();a=v(),B(n.$$.fragment),c=v(),u&&u.c(),d=k(),this.h()},l(t){l=C(t,"DIV",{class:!0});var s=T(l);for(let e=0;e<i.length;e+=1)i[e].l(s);s.forEach(_),a=P(t),w(n.$$.fragment,t),c=P(t),u&&u.l(t),d=k(),this.h()},h(){x(l,"class","mt-12 flex flex-col lg:flex-row gap-10 justify-center flex-wrap")},m(t,s){p(t,l,s);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(l,null);p(t,a,s),A(n,t,s),p(t,c,s),u&&u.m(t,s),p(t,d,s),f=!0},p(t,s){if(s&2){r=H(S);let e;for(e=0;e<r.length;e+=1){const m=I(t,r,e);i[e]?(i[e].p(m,s),h(i[e],1)):(i[e]=M(m),i[e].c(),h(i[e],1),i[e].m(l,null))}for(L(),e=r.length;e<i.length;e+=1)g(e);q()}t[0].hasEverHadSubscription?u||(u=D(),u.c(),u.m(d.parentNode,d)):u&&(u.d(1),u=null)},i(t){if(!f){for(let s=0;s<r.length;s+=1)h(i[s]);h(n.$$.fragment,t),f=!0}},o(t){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)b(i[s]);b(n.$$.fragment,t),f=!1},d(t){t&&(_(l),_(a),_(c),_(d)),K(i,t),E(n,t),u&&u.d(t)}}}function M(o){let l,a;return l=new ee({props:{plan:o[4],isCurrentPlan:o[4].id===o[1],isHighlighted:o[4].id===o[1],callToAction:"Sold Out",isDisabled:o[4].id==="enterprise"||o[4].id==="pro"}}),{c(){B(l.$$.fragment)},l(n){w(l.$$.fragment,n)},m(n,c){A(l,n,c),a=!0},p:V,i(n){a||(h(l.$$.fragment,n),a=!0)},o(n){b(l.$$.fragment,n),a=!1},d(n){E(l,n)}}}function D(o){let l,a='<a href="/account/billing/manage" class="link">View past invoices</a>';return{c(){l=y("div"),l.innerHTML=a,this.h()},l(n){l=C(n,"DIV",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-13z1v1l"&&(l.innerHTML=a),this.h()},h(){x(l,"class","mt-10")},m(n,c){p(n,l,c)},d(n){n&&_(l)}}}function ne(o){let l,a,n=o[0].isActiveCustomer?"Billing":"Select a Plan",c,d,f,r,i,g;const u=[le,te],t=[];function s(e,m){return e[0].isActiveCustomer?1:0}return f=s(o),r=t[f]=u[f](o),{c(){l=v(),a=y("h1"),c=j(n),d=v(),r.c(),i=k(),this.h()},l(e){z("svelte-y42mya",document.head).forEach(_),l=P(e),a=C(e,"H1",{class:!0});var $=T(a);c=F($,n),$.forEach(_),d=P(e),r.l(e),i=k(),this.h()},h(){document.title="Billing",x(a,"class","text-2xl font-bold mb-6 text-center")},m(e,m){p(e,l,m),p(e,a,m),O(a,c),p(e,d,m),t[f].m(e,m),p(e,i,m),g=!0},p(e,[m]){(!g||m&1)&&n!==(n=e[0].isActiveCustomer?"Billing":"Select a Plan")&&Q(c,n);let $=f;f=s(e),f===$?t[f].p(e,m):(L(),b(t[$],1,1,()=>{t[$]=null}),q(),r=t[f],r?r.p(e,m):(r=t[f]=u[f](e),r.c()),h(r,1),r.m(i.parentNode,i))},i(e){g||(h(r),g=!0)},o(e){b(r),g=!1},d(e){e&&(_(l),_(a),_(d),_(i)),t[f].d(e)}}}function ie(o,l,a){var r;G("adminSection").set("billing");let{data:c}=l,d=c.currentPlanId??Y,f=(r=S.find(i=>i.id===c.currentPlanId))==null?void 0:r.name;return J(()=>{c.logMessages.forEach(i=>{console.log(i)})}),o.$$set=i=>{"data"in i&&a(0,c=i.data)},[c,d,f]}class fe extends U{constructor(l){super(),W(this,l,ie,ne,N,{data:0})}}export{fe as component};
