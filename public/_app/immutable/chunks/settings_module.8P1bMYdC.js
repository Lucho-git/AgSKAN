import{s as be,d as b,i as T,a as p,b as h,f as S,c as E,e as g,k as V,j as B,C as me,D as ve,q as N,A as R,E as C,h as A,F,t as I,x as Z,n as H,g as ke,G as ue,m as pe,u as ge,o as we,p as Ee}from"./scheduler.BVGjjnGO.js";import{S as Be,i as Te,t as U,a as M,g as G,e as Y}from"./index.Vv2yv23T.js";import{e as O}from"./each.Ddz8tcEt.js";import{t as z}from"./Toaster.svelte_svelte_type_style_lang.BcvbULy5.js";import{g as De}from"./entry.Do23-0vY.js";const Se=n=>({}),x=n=>({});function $(n,e,l){const t=n.slice();return t[28]=e[l],t}function ee(n,e,l){const t=n.slice();return t[28]=e[l],t}function le(n){let e,l,t,s,a,i,o;return{c(){e=B("button"),l=F("svg"),t=F("path"),s=V(),a=I(n[13]),this.h()},l(u){e=E(u,"BUTTON",{class:!0});var _=g(e);l=C(_,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=g(l);t=C(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(b),f.forEach(b),s=S(_),a=A(_,n[13]),_.forEach(b),this.h()},h(){h(t,"fill-rule","evenodd"),h(t,"d","M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z"),h(t,"clip-rule","evenodd"),h(l,"xmlns","http://www.w3.org/2000/svg"),h(l,"viewBox","0 0 20 20"),h(l,"fill","currentColor"),h(l,"class","h-4 w-4"),h(e,"class","btn btn-ghost btn-sm mb-4 gap-1")},m(u,_){T(u,e,_),p(e,l),p(l,t),p(e,s),p(e,a),i||(o=R(e,"click",n[24]),i=!0)},p(u,_){_[0]&8192&&N(a,u[13])},d(u){u&&b(e),i=!1,o()}}}function te(n){let e,l;return{c(){e=B("div"),l=I(n[2]),this.h()},l(t){e=E(t,"DIV",{class:!0});var s=g(e);l=A(s,n[2]),s.forEach(b),this.h()},h(){h(e,"class","mb-3 w-48 flex-none text-xl font-bold")},m(t,s){T(t,e,s),p(e,l)},p(t,s){s[0]&4&&N(l,t[2])},d(t){t&&b(e)}}}function Ve(n){let e,l,t,s,a,i,o,u,_='<button class="btn btn-outline btn-sm mt-3 min-w-[145px]">Return to Settings</button>';return{c(){e=B("div"),l=B("div"),t=I(n[5]),s=V(),a=B("div"),i=I(n[6]),o=V(),u=B("a"),u.innerHTML=_,this.h()},l(f){e=E(f,"DIV",{});var r=g(e);l=E(r,"DIV",{class:!0});var k=g(l);t=A(k,n[5]),k.forEach(b),s=S(r),a=E(r,"DIV",{class:!0});var c=g(a);i=A(c,n[6]),c.forEach(b),r.forEach(b),o=S(f),u=E(f,"A",{href:!0,"data-svelte-h":!0}),ke(u)!=="svelte-noe8sa"&&(u.innerHTML=_),this.h()},h(){h(l,"class","text-l font-bold"),h(a,"class","text-base"),h(u,"href","/account/settings")},m(f,r){T(f,e,r),p(e,l),p(l,t),p(e,s),p(e,a),p(a,i),T(f,o,r),T(f,u,r)},p(f,r){r[0]&32&&N(t,f[5]),r[0]&64&&N(i,f[6])},i:H,o:H,d(f){f&&(b(e),b(o),b(u))}}}function Le(n){let e,l,t,s,a,i=n[3]&&ie(n);const o=[Ae,Ne],u=[];function _(f,r){return f[0]&&f[10]?0:1}return l=_(n),t=u[l]=o[l](n),{c(){i&&i.c(),e=V(),t.c(),s=Z()},l(f){i&&i.l(f),e=S(f),t.l(f),s=Z()},m(f,r){i&&i.m(f,r),T(f,e,r),u[l].m(f,r),T(f,s,r),a=!0},p(f,r){f[3]?i?i.p(f,r):(i=ie(f),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);let k=l;l=_(f),l===k?u[l].p(f,r):(G(),U(u[k],1,1,()=>{u[k]=null}),Y(),t=u[l],t?t.p(f,r):(t=u[l]=o[l](f),t.c()),M(t,1),t.m(s.parentNode,s))},i(f){a||(M(t),a=!0)},o(f){U(t),a=!1},d(f){f&&(b(e),b(s)),i&&i.d(f),u[l].d(f)}}}function ie(n){let e,l,t,s,a,i=n[1]&&se();return{c(){e=B("div"),i&&i.c(),l=V(),t=B("span"),s=I(n[3]),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=g(e);i&&i.l(u),l=S(u),t=E(u,"SPAN",{});var _=g(t);s=A(_,n[3]),_.forEach(b),u.forEach(b),this.h()},h(){h(e,"class",a="mb-6 "+(n[1]?"alert alert-warning":""))},m(o,u){T(o,e,u),i&&i.m(e,null),p(e,l),p(e,t),p(t,s)},p(o,u){o[1]?i||(i=se(),i.c(),i.m(e,l)):i&&(i.d(1),i=null),u[0]&8&&N(s,o[3]),u[0]&2&&a!==(a="mb-6 "+(o[1]?"alert alert-warning":""))&&h(e,"class",a)},d(o){o&&b(e),i&&i.d()}}}function se(n){let e,l;return{c(){e=F("svg"),l=F("path"),this.h()},l(t){e=C(t,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var s=g(e);l=C(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(l).forEach(b),s.forEach(b),this.h()},h(){h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","2"),h(l,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","h-6 w-6 shrink-0 stroke-current"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24")},m(t,s){T(t,e,s),p(e,l)},d(t){t&&b(e)}}}function Ne(n){let e,l,t,s,a,i=O(n[4]),o=[];for(let r=0;r<i.length;r+=1)o[r]=re($(n,i,r));const u=[ye,Ie],_=[];function f(r,k){return r[21].buttons?0:r[8]?1:-1}return~(t=f(n))&&(s=_[t]=u[t](n)),{c(){e=B("div");for(let r=0;r<o.length;r+=1)o[r].c();l=V(),s&&s.c(),this.h()},l(r){e=E(r,"DIV",{class:!0});var k=g(e);for(let c=0;c<o.length;c+=1)o[c].l(k);l=S(k),s&&s.l(k),k.forEach(b),this.h()},h(){h(e,"class","form-widget flex flex-col")},m(r,k){T(r,e,k);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);p(e,l),~t&&_[t].m(e,null),a=!0},p(r,k){if(k[0]&16){i=O(r[4]);let d;for(d=0;d<i.length;d+=1){const v=$(r,i,d);o[d]?o[d].p(v,k):(o[d]=re(v),o[d].c(),o[d].m(e,l))}for(;d<o.length;d+=1)o[d].d(1);o.length=i.length}let c=t;t=f(r),t===c?~t&&_[t].p(r,k):(s&&(G(),U(_[c],1,1,()=>{_[c]=null}),Y()),~t?(s=_[t],s?s.p(r,k):(s=_[t]=u[t](r),s.c()),M(s,1),s.m(e,null)):s=null)},i(r){a||(M(s),a=!0)},o(r){U(s),a=!1},d(r){r&&b(e),ue(o,r),~t&&_[t].d()}}}function Ae(n){let e,l,t,s,a,i,o,u,_=O(n[4]),f=[];for(let v=0;v<_.length;v+=1)f[v]=oe(ee(n,_,v));let r=n[17]&&fe(n);function k(v,D){return v[15]?Ue:He}let c=k(n),d=c(n);return{c(){e=B("form");for(let v=0;v<f.length;v+=1)f[v].c();l=V(),r&&r.c(),t=V(),s=B("div"),a=B("button"),d.c(),this.h()},l(v){e=E(v,"FORM",{class:!0});var D=g(e);for(let P=0;P<f.length;P+=1)f[P].l(D);l=S(D),r&&r.l(D),t=S(D),s=E(D,"DIV",{});var w=g(s);a=E(w,"BUTTON",{type:!0,class:!0});var y=g(a);d.l(y),y.forEach(b),w.forEach(b),D.forEach(b),this.h()},h(){h(a,"type","submit"),h(a,"class",i="btn btn-sm ml-auto mt-3 min-w-[145px] "+(n[1]?"btn-error":"btn-success")),a.disabled=n[15],h(e,"class","form-widget flex flex-col")},m(v,D){T(v,e,D);for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(e,null);p(e,l),r&&r.m(e,null),p(e,t),p(e,s),p(s,a),d.m(a,null),o||(u=R(e,"submit",n[19]),o=!0)},p(v,D){if(D[0]&1359888){_=O(v[4]);let w;for(w=0;w<_.length;w+=1){const y=ee(v,_,w);f[w]?f[w].p(y,D):(f[w]=oe(y),f[w].c(),f[w].m(e,l))}for(;w<f.length;w+=1)f[w].d(1);f.length=_.length}v[17]?r?r.p(v,D):(r=fe(v),r.c(),r.m(e,t)):r&&(r.d(1),r=null),c===(c=k(v))&&d?d.p(v,D):(d.d(1),d=c(v),d&&(d.c(),d.m(a,null))),D[0]&2&&i!==(i="btn btn-sm ml-auto mt-3 min-w-[145px] "+(v[1]?"btn-error":"btn-success"))&&h(a,"class",i),D[0]&32768&&(a.disabled=v[15])},i:H,o:H,d(v){v&&b(e),ue(f,v),r&&r.d(),d.d(),o=!1,u()}}}function ne(n){let e,l,t=n[28].label+"",s,a;return{c(){e=B("label"),l=B("span"),s=I(t),this.h()},l(i){e=E(i,"LABEL",{for:!0});var o=g(e);l=E(o,"SPAN",{class:!0});var u=g(l);s=A(u,t),u.forEach(b),o.forEach(b),this.h()},h(){h(l,"class","text-sm text-gray-500"),h(e,"for",a=n[28].id)},m(i,o){T(i,e,o),p(e,l),p(l,s)},p(i,o){o[0]&16&&t!==(t=i[28].label+"")&&N(s,t),o[0]&16&&a!==(a=i[28].id)&&h(e,"for",a)},d(i){i&&b(e)}}}function re(n){let e,l,t=n[28].initialValue+"",s,a=n[28].label&&ne(n);return{c(){a&&a.c(),e=V(),l=B("div"),s=I(t),this.h()},l(i){a&&a.l(i),e=S(i),l=E(i,"DIV",{class:!0});var o=g(l);s=A(o,t),o.forEach(b),this.h()},h(){h(l,"class","mb-3 text-lg")},m(i,o){a&&a.m(i,o),T(i,e,o),T(i,l,o),p(l,s)},p(i,o){i[28].label?a?a.p(i,o):(a=ne(i),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[0]&16&&t!==(t=i[28].initialValue+"")&&N(s,t)},d(i){i&&(b(e),b(l)),a&&a.d(i)}}}function Ie(n){let e,l,t,s;return{c(){e=B("a"),l=B("button"),t=I(n[7]),this.h()},l(a){e=E(a,"A",{href:!0,class:!0});var i=g(e);l=E(i,"BUTTON",{class:!0});var o=g(l);t=A(o,n[7]),o.forEach(b),i.forEach(b),this.h()},h(){h(l,"class",s="btn btn-outline btn-sm "+(n[1]?"btn-error":"")+" min-w-[145px]"),h(e,"href",n[8]),h(e,"class","mt-1")},m(a,i){T(a,e,i),p(e,l),p(l,t)},p(a,i){i[0]&128&&N(t,a[7]),i[0]&2&&s!==(s="btn btn-outline btn-sm "+(a[1]?"btn-error":"")+" min-w-[145px]")&&h(l,"class",s),i[0]&256&&h(e,"href",a[8])},i:H,o:H,d(a){a&&b(e)}}}function ye(n){let e;const l=n[23].buttons,t=pe(l,n,n[22],x);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a[0]&4194304)&&ge(t,l,s,s[22],e?Ee(l,s[22],a,Se):we(s[22]),x)},i(s){e||(M(t,s),e=!0)},o(s){U(t,s),e=!1},d(s){t&&t.d(s)}}}function ae(n){let e,l,t=n[28].label+"",s,a;return{c(){e=B("label"),l=B("span"),s=I(t),this.h()},l(i){e=E(i,"LABEL",{for:!0});var o=g(e);l=E(o,"SPAN",{class:!0});var u=g(l);s=A(u,t),u.forEach(b),o.forEach(b),this.h()},h(){h(l,"class","text-sm text-gray-500"),h(e,"for",a=n[28].id)},m(i,o){T(i,e,o),p(e,l),p(l,s)},p(i,o){o[0]&16&&t!==(t=i[28].label+"")&&N(s,t),o[0]&16&&a!==(a=i[28].id)&&h(e,"for",a)},d(i){i&&b(e)}}}function oe(n){let e,l,t,s,a,i,o,u,_,f,r=n[28].label&&ae(n);function k(...c){return n[25](n[28],...c)}return{c(){r&&r.c(),e=V(),l=B("input"),this.h()},l(c){r&&r.l(c),e=S(c),l=E(c,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){h(l,"id",t=n[28].id),h(l,"name",s=n[28].id),h(l,"type",a=n[28].inputType??"text"),l.disabled=n[15],h(l,"placeholder",i=n[28].placeholder??n[28].label??""),h(l,"class",o=(n[18](n[28].id)?"input-error":"")+" input input-sm input-bordered mb-3 mt-1 w-full max-w-xs py-4 text-base"),l.value=u=n[14][n[28].id]},m(c,d){r&&r.m(c,d),T(c,e,d),T(c,l,d),_||(f=R(l,"input",k),_=!0)},p(c,d){n=c,n[28].label?r?r.p(n,d):(r=ae(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),d[0]&16&&t!==(t=n[28].id)&&h(l,"id",t),d[0]&16&&s!==(s=n[28].id)&&h(l,"name",s),d[0]&16&&a!==(a=n[28].inputType??"text")&&h(l,"type",a),d[0]&32768&&(l.disabled=n[15]),d[0]&16&&i!==(i=n[28].placeholder??n[28].label??"")&&h(l,"placeholder",i),d[0]&16&&o!==(o=(n[18](n[28].id)?"input-error":"")+" input input-sm input-bordered mb-3 mt-1 w-full max-w-xs py-4 text-base")&&h(l,"class",o),d[0]&16400&&u!==(u=n[14][n[28].id])&&l.value!==u&&(l.value=u)},d(c){c&&(b(e),b(l)),r&&r.d(c),_=!1,f()}}}function fe(n){let e,l;return{c(){e=B("p"),l=I(n[17]),this.h()},l(t){e=E(t,"P",{class:!0});var s=g(e);l=A(s,n[17]),s.forEach(b),this.h()},h(){h(e,"class","mt-1 text-sm font-bold text-red-700")},m(t,s){T(t,e,s),p(e,l)},p(t,s){s[0]&131072&&N(l,t[17])},d(t){t&&b(e)}}}function He(n){let e;return{c(){e=I(n[9])},l(l){e=A(l,n[9])},m(l,t){T(l,e,t)},p(l,t){t[0]&512&&N(e,l[9])},d(l){l&&b(e)}}}function Ue(n){let e;return{c(){e=B("span"),this.h()},l(l){e=E(l,"SPAN",{class:!0}),g(e).forEach(b),this.h()},h(){h(e,"class","loading loading-spinner loading-md mx-3 align-middle")},m(l,t){T(l,e,t)},p:H,d(l){l&&b(e)}}}function Me(n){let e,l,t,s,a,i,o,u=n[11]&&le(n),_=n[2]&&te(n);const f=[Le,Ve],r=[];function k(c,d){return c[16]?1:0}return a=k(n),i=r[a]=f[a](n),{c(){u&&u.c(),e=V(),l=B("div"),_&&_.c(),t=V(),s=B("div"),i.c(),this.h()},l(c){u&&u.l(c),e=S(c),l=E(c,"DIV",{class:!0});var d=g(l);_&&_.l(d),t=S(d),s=E(d,"DIV",{class:!0});var v=g(s);i.l(v),v.forEach(b),d.forEach(b),this.h()},h(){h(s,"class","w-full min-w-48"),h(l,"class","card mt-8 flex max-w-xl flex-col p-6 pb-7 shadow md:flex-row")},m(c,d){u&&u.m(c,d),T(c,e,d),T(c,l,d),_&&_.m(l,null),p(l,t),p(l,s),r[a].m(s,null),o=!0},p(c,d){c[11]?u?u.p(c,d):(u=le(c),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),c[2]?_?_.p(c,d):(_=te(c),_.c(),_.m(l,t)):_&&(_.d(1),_=null);let v=a;a=k(c),a===v?r[a].p(c,d):(G(),U(r[v],1,1,()=>{r[v]=null}),Y(),i=r[a],i?i.p(c,d):(i=r[a]=f[a](c),i.c()),M(i,1),i.m(s,null))},i(c){o||(M(i),o=!0)},o(c){U(i),o=!1},d(c){c&&(b(e),b(l)),u&&u.d(c),_&&_.d(),r[a].d()}}}function Pe(n,e,l){let{$$slots:t={},$$scope:s}=e;const a=me(t),i=ve();let o=!1,u=!1,_=[],f="",r={},{editable:k=!1}=e,{dangerous:c=!1}=e,{title:d=""}=e,{message:v=""}=e,{fields:D=[]}=e,{successTitle:w="Success"}=e,{successBody:y=""}=e,{editButtonTitle:P=""}=e,{editLink:J=""}=e,{saveButtonTitle:K="Save"}=e,{apiHandler:j=null}=e,{showBackButton:Q=!1}=e,{backUrl:q="/account/settings"}=e,{backText:W="Back to Settings"}=e;function ce(m){return _.includes(m)}async function _e(m){m.preventDefault(),l(15,o=!0),_=[],l(17,f="");try{const L=await j(r);L.success?(l(16,u=!0),z.success(w,{description:y||"Your changes have been saved."}),i("success",{...L,formData:r})):(_=L.errorFields||[],l(17,f=L.message||"An error occurred"),z.error("Error",{description:f}),i("error",{message:f,errorFields:_}))}catch(L){console.error("Error in form submission:",L),l(17,f=L.message||"An unexpected error occurred"),z.error("Error",{description:f}),i("error",{message:f})}finally{l(15,o=!1)}}function X(m,L){l(14,r[L]=m.target.value,r)}const de=()=>De(q),he=(m,L)=>X(L,m.id);return n.$$set=m=>{"editable"in m&&l(0,k=m.editable),"dangerous"in m&&l(1,c=m.dangerous),"title"in m&&l(2,d=m.title),"message"in m&&l(3,v=m.message),"fields"in m&&l(4,D=m.fields),"successTitle"in m&&l(5,w=m.successTitle),"successBody"in m&&l(6,y=m.successBody),"editButtonTitle"in m&&l(7,P=m.editButtonTitle),"editLink"in m&&l(8,J=m.editLink),"saveButtonTitle"in m&&l(9,K=m.saveButtonTitle),"apiHandler"in m&&l(10,j=m.apiHandler),"showBackButton"in m&&l(11,Q=m.showBackButton),"backUrl"in m&&l(12,q=m.backUrl),"backText"in m&&l(13,W=m.backText),"$$scope"in m&&l(22,s=m.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&16400&&D.forEach(m=>{m.id in r||l(14,r[m.id]=m.initialValue,r)})},[k,c,d,v,D,w,y,P,J,K,j,Q,q,W,r,o,u,f,ce,_e,X,a,s,t,de,he]}class ze extends Be{constructor(e){super(),Te(this,e,Pe,Me,be,{editable:0,dangerous:1,title:2,message:3,fields:4,successTitle:5,successBody:6,editButtonTitle:7,editLink:8,saveButtonTitle:9,apiHandler:10,showBackButton:11,backUrl:12,backText:13},null,[-1,-1])}}export{ze as S};
