import{c as m,P as p,a as g}from"../chunks/index.B9zg-xLz.js";import{s as h,m as b,d as r,u as v,o as y,p as S,i as U,a as w,b as u,c as f,e as _,j as d,l as A,z as C}from"../chunks/scheduler.BVGjjnGO.js";import{S as P,i as E,t as I,a as B}from"../chunks/index.Vv2yv23T.js";import{s as L}from"../chunks/sessionStore.rIZpZ3yf.js";import{g as j}from"../chunks/entry.BMnqIGFd.js";const x=async({depends:l,url:s})=>{l("supabase:auth");const a=m(g,p),{data:{session:o}}=await a.auth.getSession();return{supabase:a,session:o,url:s.origin}},k=Object.freeze(Object.defineProperty({__proto__:null,load:x},Symbol.toStringTag,{value:"Module"}));function O(l){let s,a,o;const i=l[3].default,t=b(i,l,l[2],null);return{c(){s=d("div"),a=d("div"),t&&t.c(),this.h()},l(e){s=f(e,"DIV",{class:!0});var n=_(s);a=f(n,"DIV",{class:!0});var c=_(a);t&&t.l(c),c.forEach(r),n.forEach(r),this.h()},h(){u(a,"class","flex w-64 flex-col lg:w-80"),u(s,"class","mx-auto mb-12 flex min-h-[70vh] max-w-lg place-content-center content-center items-center text-center")},m(e,n){U(e,s,n),w(s,a),t&&t.m(a,null),o=!0},p(e,[n]){t&&t.p&&(!o||n&4)&&v(t,i,e,e[2],o?S(i,e[2],n,null):y(e[2]),null)},i(e){o||(B(t,e),o=!0)},o(e){I(t,e),o=!1},d(e){e&&r(s),t&&t.d(e)}}}function $(l,s,a){let o;A(l,L,n=>a(1,o=n));let{$$slots:i={},$$scope:t}=s,e=!1;return C(()=>{o&&(console.log("User already logged in, redirecting away from login page"),j("/account")),a(0,e=!0)}),l.$$set=n=>{"$$scope"in n&&a(2,t=n.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&e&&o&&console.log("Session detected, but letting Auth UI handle redirect flow")},[e,o,t,i]}class q extends P{constructor(s){super(),E(this,s,$,O,h,{})}}export{q as component,k as universal};
