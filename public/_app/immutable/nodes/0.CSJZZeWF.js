import{P as T,s as D,m as K,d as g,u as P,o as F,p as O,b as _,i as V,a as y,c as z,e as A,f as b,j as I,k as v,l as w,v as R,n as Q,H as B}from"../chunks/DjMlahvE.js";import{S as H,i as U,d as x,t as k,a as h,m as G,c as J,b as W,j as X}from"../chunks/KhAD1Hhl.js";/* empty css                */import{u as Y,n as Z}from"../chunks/CmaL_1sX.js";import{e as ee}from"../chunks/BCJ65Txv.js";import{s as te}from"../chunks/DWYlTy9s.js";import{Toaster as ne}from"../chunks/BW65ZdPR.js";import{t as oe}from"../chunks/C31GE7Pe.js";import{w as m,d as N}from"../chunks/CAuzrzLJ.js";import{i as se}from"../chunks/DSS83BMa.js";const ie=!1,re=!0,Ne=Object.freeze(Object.defineProperty({__proto__:null,prerender:re,ssr:ie},Symbol.toStringTag,{value:"Module"}));let S,E;function q(n){if(typeof document>"u")return;clearTimeout(S),clearTimeout(E);const e=document.createElement("style"),i=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(i);const t=()=>document.head.appendChild(e),r=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){t(),n(),window.getComputedStyle(e).opacity,r();return}if(typeof window.requestAnimationFrame<"u"){t(),n(),window.requestAnimationFrame(r);return}t(),S=window.setTimeout(()=>{n(),E=window.setTimeout(r,120)},120)}function C(n){return n.filter(e=>e.length>0)}const $={getItem:n=>null,setItem:(n,e)=>{}},f=typeof document<"u",ae=["dark","light","system"],le=m("mode-watcher-mode"),ue=m("mode-watcher-theme"),ce=ge(),de=ye(),me=m(void 0),fe=_e(),j=m(!0),he=m([]),pe=m([]);be();ve();function ge(){const n="system",e=f?localStorage:$,i=e.getItem(r());let t=L(i)?i:n;function r(){return T(le)}const{subscribe:d,set:a}=m(t,()=>{if(!f)return;const s=u=>{if(u.key!==r())return;const l=u.newValue;L(l)?a(t=l):a(t=n)};return addEventListener("storage",s),()=>removeEventListener("storage",s)});function o(s){a(t=s),e.setItem(r(),t)}return{subscribe:d,set:o}}function _e(){const n=f?localStorage:$,e=n.getItem(t());let i=e??"";function t(){return T(ue)}const{subscribe:r,set:d}=m(i,()=>{if(!f)return;const o=s=>{if(s.key!==t())return;const u=s.newValue;d(u===null?i="":i=u)};return addEventListener("storage",o),()=>removeEventListener("storage",o)});function a(o){d(i=o),n.setItem(t(),i)}return{subscribe:r,set:a}}function ye(){let e=!0;const{subscribe:i,set:t}=m(void 0,()=>{if(!f)return;const a=s=>{e&&t(s.matches?"light":"dark")},o=window.matchMedia("(prefers-color-scheme: light)");return o.addEventListener("change",a),()=>o.removeEventListener("change",a)});function r(){if(!f)return;const a=window.matchMedia("(prefers-color-scheme: light)");t(a.matches?"light":"dark")}function d(a){e=a}return{subscribe:i,query:r,tracking:d}}function be(){const{subscribe:n}=N([ce,de,me,j,he,pe],([e,i,t,r,d,a])=>{if(!f)return;const o=e==="system"?i:e,s=C(d),u=C(a);function l(){const c=document.documentElement,p=document.querySelector('meta[name="theme-color"]');o==="light"?(s.length&&c.classList.remove(...s),u.length&&c.classList.add(...u),c.style.colorScheme="light",p&&t&&p.setAttribute("content",t.light)):(u.length&&c.classList.remove(...u),s.length&&c.classList.add(...s),c.style.colorScheme="dark",p&&t&&p.setAttribute("content",t.dark))}return r?q(l):l(),o});return{subscribe:n}}function ve(){const{subscribe:n}=N([fe,j],([e,i])=>{if(!f)return;function t(){document.documentElement.setAttribute("data-theme",e)}return i?q(t):t(),e});return{subscribe:n}}function L(n){return typeof n!="string"?!1:ae.includes(n)}function M(n){let e,i;return{c(){e=I("div"),this.h()},l(t){e=z(t,"DIV",{class:!0}),A(e).forEach(g),this.h()},h(){_(e,"class","fixed left-0 right-0 top-0 z-50 h-1 w-full bg-primary")},m(t,r){V(t,e,r)},i(t){t&&(i||B(()=>{i=X(e,te,{delay:100,duration:12e3,axis:"x",easing:ee}),i.start()}))},o:Q,d(t){t&&g(e)}}}function we(n){let e,i,t,r,d,a,o=n[1]&&M();const s=n[3].default,u=K(s,n,n[2],null);return r=new ne({props:{expand:!0,position:"top-center",richColors:!0}}),{c(){e=I("main"),o&&o.c(),i=v(),u&&u.c(),t=v(),W(r.$$.fragment),this.h()},l(l){e=z(l,"MAIN",{"data-sveltekit-reload":!0});var c=A(e);o&&o.l(c),i=b(c),u&&u.l(c),t=b(c),J(r.$$.fragment,c),c.forEach(g),this.h()},h(){_(e,"data-sveltekit-reload",d=n[0]?"":"off")},m(l,c){V(l,e,c),o&&o.m(e,null),y(e,i),u&&u.m(e,null),y(e,t),G(r,e,null),a=!0},p(l,[c]){l[1]?o?c&2&&h(o,1):(o=M(),o.c(),h(o,1),o.m(e,i)):o&&(o.d(1),o=null),u&&u.p&&(!a||c&4)&&P(u,s,l,l[2],a?O(s,l[2],c,null):F(l[2]),null),(!a||c&1&&d!==(d=l[0]?"":"off"))&&_(e,"data-sveltekit-reload",d)},i(l){a||(h(o),h(u,l),h(r.$$.fragment,l),a=!0)},o(l){k(u,l),k(r.$$.fragment,l),a=!1},d(l){l&&g(e),o&&o.d(),u&&u.d(l),x(r)}}}function ke(n,e,i){let t,r;w(n,Y,s=>i(0,t=s)),w(n,Z,s=>i(1,r=s));let{$$slots:d={},$$scope:a}=e,o;return R(()=>(console.log("Root layout mounted, initializing session"),se().then(s=>{s&&(o=s)}).catch(s=>{console.error("Failed to initialize session:",s)}),()=>{o&&(console.log("Cleaning up session subscription in root layout"),o())})),n.$$set=s=>{"$$scope"in s&&i(2,a=s.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t&&oe.info("An update is available. Refresh to see the latest version.",{action:{label:"Refresh",onClick:()=>location.reload()},duration:5e6})},[t,r,a,d]}class qe extends H{constructor(e){super(),U(this,e,ke,we,D,{})}}export{qe as component,Ne as universal};
